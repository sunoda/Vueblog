{"remainingRequest":"C:\\Users\\Yida\\Desktop\\JobTrain\\Udemy\\vue_glovecoding\\vue_blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Yida\\Desktop\\JobTrain\\Udemy\\vue_glovecoding\\vue_blog\\src\\views\\Admin\\Add.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Yida\\Desktop\\JobTrain\\Udemy\\vue_glovecoding\\vue_blog\\src\\views\\Admin\\Add.vue","mtime":1588314356939},{"path":"C:\\Users\\Yida\\Desktop\\JobTrain\\Udemy\\vue_glovecoding\\vue_blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yida\\Desktop\\JobTrain\\Udemy\\vue_glovecoding\\vue_blog\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Yida\\Desktop\\JobTrain\\Udemy\\vue_glovecoding\\vue_blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yida\\Desktop\\JobTrain\\Udemy\\vue_glovecoding\\vue_blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG1vdW50ZWQoKSB7DQogICAgaWYgKHRoaXMuJHJvdXRlLm5hbWUgPT09ICJBZG1pbi1FZGl0Iikgew0KICAgICAgY29uc3QgaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7DQogICAgICB0aGlzLm1vZGUgPSAiZWRpdCI7DQogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiY2hhbmdlRm9jdXNJZCIsIGlkKTsNCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIG1vZGU6ICJhZGQiLA0KICAgICAgZm9ybURhdGE6IHsNCiAgICAgICAgdGl0bGU6ICIiLA0KICAgICAgICBjb250ZW50OiAiIiwNCiAgICAgICAgZGF0ZTogIiIsDQogICAgICAgIGlkOiAiIg0KICAgICAgfQ0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAuLi5tYXBBY3Rpb25zKFsiYWRkQXJ0aWNsZSIsICJ1cGRhdGVBcnRpY2xlIl0pLA0KICAgIHJlc2V0Rm9ybURhdGE6IGZ1bmN0aW9uKCkgew0KICAgICAgdGhpcy5mb3JtRGF0YSA9IHsNCiAgICAgICAgdGl0bGU6ICIiLA0KICAgICAgICBjb250ZW50OiAiIiwNCiAgICAgICAgZGF0ZTogIiIsDQogICAgICB9Ow0KICAgIH0sDQogICAgc3VibWl0Rm9ybURhdGE6IGZ1bmN0aW9uKCkgew0KICAgICAgdGhpcy5mb3JtRGF0YS5kYXRlID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7DQoNCiAgICAgIGlmICh0aGlzLm1vZGUgPT09ICJlZGl0Iikgew0KICAgICAgICB0aGlzLnVwZGF0ZUFydGljbGUoew0KICAgICAgICAgIGlkOiB0aGlzLiRyb3V0ZS5pZCwNCiAgICAgICAgICBuZXdBcnRpY2xlOiB0aGlzLmZvcm1EYXRhDQogICAgICAgIH0pOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5hZGRBcnRpY2xlKHRoaXMuZm9ybURhdGEpOw0KICAgICAgfQ0KICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goe25hbWUgOiAiQWRtaW4tSG9tZSJ9KQ0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBTdGF0ZShbImFjY291bnQiLCAiYXJ0aWNsZUNoYW5nZWQiXSksDQogICAgLi4ubWFwR2V0dGVycyhbImZpbHRlckJ5SWQiXSkNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBmaWx0ZXJCeUlkOiBmdW5jdGlvbigpIHsNCiAgICAgIHRoaXMuZm9ybURhdGEudGl0bGUgPSB0aGlzLmZpbHRlckJ5SWQudGl0bGU7DQogICAgICB0aGlzLmZvcm1EYXRhLmNvbnRlbnQgPSB0aGlzLmZpbHRlckJ5SWQuY29udGVudDsNCiAgICB9LA0KICAgIGFydGljbGVDaGFuZ2VkOiBmdW5jdGlvbigpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogIkFkbWluLUhvbWUiIH0pOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["Add.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Add.vue","sourceRoot":"src/views/Admin","sourcesContent":["<template>\r\n  <div>\r\n    <h1>AdminAdd1</h1>\r\n    <b-form>\r\n      <b-form-group id=\"input-group-1\" label=\"文章標題\" label-for=\"input-1\">\r\n        <b-form-input\r\n          id=\"input-1\"\r\n          type=\"text\"\r\n          v-model=\"formData.title\"\r\n          required\r\n          placeholder=\"Enter account\"\r\n        ></b-form-input>\r\n      </b-form-group>\r\n      <b-form-group id=\"input-group-2\" label=\"文章內容\" label-for=\"textarea\">\r\n        <b-form-textarea\r\n          id=\"textarea\"\r\n          v-model=\"formData.content\"\r\n          placeholder=\"Enter something...\"\r\n          rows=\"3\"\r\n          max-rows=\"6\"\r\n        ></b-form-textarea>\r\n      </b-form-group>\r\n\r\n      <b-button @click.prevent=\"submitFormData\" type=\"submit\" variant=\"primary\"\r\n        >送出</b-button\r\n      >\r\n      <b-button @click.prevent=\"resetFormData\" variant=\"danger\">重置</b-button>\r\n    </b-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions, mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  mounted() {\r\n    if (this.$route.name === \"Admin-Edit\") {\r\n      const id = this.$route.params.id;\r\n      this.mode = \"edit\";\r\n      this.$store.dispatch(\"changeFocusId\", id);\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      mode: \"add\",\r\n      formData: {\r\n        title: \"\",\r\n        content: \"\",\r\n        date: \"\",\r\n        id: \"\"\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions([\"addArticle\", \"updateArticle\"]),\r\n    resetFormData: function() {\r\n      this.formData = {\r\n        title: \"\",\r\n        content: \"\",\r\n        date: \"\",\r\n      };\r\n    },\r\n    submitFormData: function() {\r\n      this.formData.date = new Date().getTime();\r\n\r\n      if (this.mode === \"edit\") {\r\n        this.updateArticle({\r\n          id: this.$route.id,\r\n          newArticle: this.formData\r\n        });\r\n      } else {\r\n        this.addArticle(this.formData);\r\n      }\r\n      // this.$router.push({name : \"Admin-Home\"})\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState([\"account\", \"articleChanged\"]),\r\n    ...mapGetters([\"filterById\"])\r\n  },\r\n  watch: {\r\n    filterById: function() {\r\n      this.formData.title = this.filterById.title;\r\n      this.formData.content = this.filterById.content;\r\n    },\r\n    articleChanged: function() {\r\n      this.$router.push({ name: \"Admin-Home\" });\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}