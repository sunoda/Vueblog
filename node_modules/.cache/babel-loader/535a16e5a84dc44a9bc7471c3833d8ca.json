{"remainingRequest":"C:\\Users\\Yida\\Desktop\\JobTrain\\Udemy\\vue_glovecoding\\vue_blog\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Yida\\Desktop\\JobTrain\\Udemy\\vue_glovecoding\\vue_blog\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Yida\\Desktop\\JobTrain\\Udemy\\vue_glovecoding\\vue_blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Yida\\Desktop\\JobTrain\\Udemy\\vue_glovecoding\\vue_blog\\src\\views\\Admin\\AdminHome.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Yida\\Desktop\\JobTrain\\Udemy\\vue_glovecoding\\vue_blog\\src\\views\\Admin\\AdminHome.vue","mtime":1588341819757},{"path":"C:\\Users\\Yida\\Desktop\\JobTrain\\Udemy\\vue_glovecoding\\vue_blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yida\\Desktop\\JobTrain\\Udemy\\vue_glovecoding\\vue_blog\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Yida\\Desktop\\JobTrain\\Udemy\\vue_glovecoding\\vue_blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yida\\Desktop\\JobTrain\\Udemy\\vue_glovecoding\\vue_blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzpcXFVzZXJzXFxZaWRhXFxEZXNrdG9wXFxKb2JUcmFpblxcVWRlbXlcXHZ1ZV9nbG92ZWNvZGluZ1xcdnVlX2Jsb2dcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmllbGRzOiBbewogICAgICAgIGtleTogInRpdGxlIiwKICAgICAgICBsYWJlbDogIuaWh+eroOaomemhjCIKICAgICAgfSwgewogICAgICAgIGtleTogImRhdGUiLAogICAgICAgIGxhYmVsOiAi5LiK5YKz5pel5pyfIgogICAgICB9LCB7CiAgICAgICAga2V5OiAiY29udGVudCIsCiAgICAgICAgbGFiZWw6ICLmlofnq6DlhaflrrkiCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJpZCIsCiAgICAgICAgbGFiZWw6ICLkv67mlLkiCiAgICAgIH1dCiAgICB9OwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbImZldGNoQXJ0aWNsZXMiLCAiZGVsZXRlQXJ0aWNsZSJdKSwgewogICAgZWRpdEFydGljbGU6IGZ1bmN0aW9uIGVkaXRBcnRpY2xlKGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiQWRtaW4tRWRpdCIsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpZDogaWQKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGRlbEFydGljbGU6IGZ1bmN0aW9uIGRlbEFydGljbGUoaWQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBlbnN1cmUgPSBTd2FsLmZpcmUoewogICAgICAgIHRpdGxlOiAn5L2g56K65a6a6KaB5Yiq6Zmk6YCZ56+H5paH56ug5ZeO77yfJywKICAgICAgICB0ZXh0OiAi5Z+36KGM5b6M54Sh5rOV5b6p5Y6fIiwKICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56K66KqNJwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICBTd2FsLmZpcmUoJ0RlbGV0ZWQhJywgJ+aWh+eroOW3sue2k+WIqumZpCcsICdzdWNjZXNzJyk7CgogICAgICAgICAgX3RoaXMuZGVsZXRlQXJ0aWNsZShpZCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9KSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWyJhY2NvdW50IiwgImFydGljbGVzIl0pKSwKICBmaWx0ZXJzOiB7CiAgICBzdWJjb250ZW50OiBmdW5jdGlvbiBzdWJjb250ZW50KGNvbnRlbnQpIHsKICAgICAgdmFyIGNvbnRlbnRTdHIgPSBjb250ZW50LnN1YnN0cmluZygwLCA4MCk7CiAgICAgIHJldHVybiBjb250ZW50Lmxlbmd0aCA+IDgwID8gY29udGVudFN0ciArICIuLi4iIDogY29udGVudFN0cjsKICAgIH0sCiAgICB0b0RhdGU6IGZ1bmN0aW9uIHRvRGF0ZSh0aW1lc3RhbXApIHsKICAgICAgdmFyIGRhdGEgPSBuZXcgRGF0ZSh0aW1lc3RhbXApOwogICAgICB2YXIgWSA9IGRhdGEuZ2V0RnVsbFllYXIoKTsKICAgICAgdmFyIE0gPSBkYXRhLmdldE1vbnRoKCk7CiAgICAgIHZhciBEID0gZGF0YS5nZXREYXRlKCk7CiAgICAgIHZhciBIID0gZGF0YS5nZXRIb3VycygpOwogICAgICB2YXIgbWluID0gKEFycmF5KDIpLmpvaW4oIjAiKSArIGRhdGEuZ2V0TWludXRlcygpKS5zbGljZSgtMik7CiAgICAgIHJldHVybiAiIi5jb25jYXQoWSwgIi8iKS5jb25jYXQoTSArIDEsICIvIikuY29uY2F0KEQsICIgIikuY29uY2F0KEgsICI6IikuY29uY2F0KG1pbik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["AdminHome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAmBA,SAAA,QAAA,EAAA,UAAA,QAAA,MAAA;AACA,OAAA,IAAA,MAAA,aAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,CACA;AAAA,QAAA,GAAA,EAAA,OAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,GAAA,EAAA,MAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAFA,EAGA;AAAA,QAAA,GAAA,EAAA,SAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAHA,EAIA;AAAA,QAAA,GAAA,EAAA,IAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAJA;AADA,KAAA;AAQA,GAVA;AAWA,EAAA,OAAA,oBACA,UAAA,CAAA,CAAA,eAAA,EAAA,eAAA,CAAA,CADA;AAEA,IAAA,WAAA,EAAA,qBAAA,EAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA,YAAA;AAAA,QAAA,MAAA,EAAA;AAAA,UAAA,EAAA,EAAA;AAAA;AAAA,OAAA;AACA,KAJA;AAKA,IAAA,UAAA,EAAA,oBAAA,EAAA,EAAA;AAAA;;AACA,UAAA,MAAA,GAAA,IAAA,CAAA,IAAA,CAAA;AACA,QAAA,KAAA,EAAA,cADA;AAEA,QAAA,IAAA,EAAA,SAFA;AAGA,QAAA,IAAA,EAAA,SAHA;AAIA,QAAA,gBAAA,EAAA,IAJA;AAKA,QAAA,kBAAA,EAAA,SALA;AAMA,QAAA,iBAAA,EAAA,MANA;AAOA,QAAA,iBAAA,EAAA;AAPA,OAAA,EAQA,IARA,CAQA,UAAA,MAAA,EAAA;AACA,YAAA,MAAA,CAAA,KAAA,EAAA;AACA,UAAA,IAAA,CAAA,IAAA,CACA,UADA,EAEA,QAFA,EAGA,SAHA;;AAKA,UAAA,KAAA,CAAA,aAAA,CAAA,EAAA;AACA;AACA,OAjBA,CAAA;AAkBA;AAxBA,IAXA;AAqCA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,SAAA,EAAA,UAAA,CAAA,CADA,CArCA;AAwCA,EAAA,OAAA,EAAA;AACA,IAAA,UAAA,EAAA,oBAAA,OAAA,EAAA;AACA,UAAA,UAAA,GAAA,OAAA,CAAA,SAAA,CAAA,CAAA,EAAA,EAAA,CAAA;AACA,aAAA,OAAA,CAAA,MAAA,GAAA,EAAA,GAAA,UAAA,GAAA,KAAA,GAAA,UAAA;AACA,KAJA;AAKA,IAAA,MAAA,EAAA,gBAAA,SAAA,EAAA;AACA,UAAA,IAAA,GAAA,IAAA,IAAA,CAAA,SAAA,CAAA;AACA,UAAA,CAAA,GAAA,IAAA,CAAA,WAAA,EAAA;AACA,UAAA,CAAA,GAAA,IAAA,CAAA,QAAA,EAAA;AACA,UAAA,CAAA,GAAA,IAAA,CAAA,OAAA,EAAA;AACA,UAAA,CAAA,GAAA,IAAA,CAAA,QAAA,EAAA;AACA,UAAA,GAAA,GAAA,CAAA,KAAA,CAAA,CAAA,CAAA,CAAA,IAAA,CAAA,GAAA,IAAA,IAAA,CAAA,UAAA,EAAA,EAAA,KAAA,CAAA,CAAA,CAAA,CAAA;AACA,uBAAA,CAAA,cAAA,CAAA,GAAA,CAAA,cAAA,CAAA,cAAA,CAAA,cAAA,GAAA;AACA;AAbA;AAxCA,CAAA","sourcesContent":["<template>\r\n  <div class=\"admin_home\">\r\n    <b-table hover :fields=\"fields\" :items=\"articles\">\r\n      <template v-slot:cell(date)=\"data\">\r\n        {{ data.value | toDate }}\r\n      </template>\r\n      <template v-slot:cell(content)=\"data\">\r\n        <p v-html=\"$options.filters.subcontent(data.value)\"></p>\r\n      </template>\r\n      <template v-slot:cell(id)=\"data\">\r\n          <b-button @click=\"editArticle(data.value)\" variant=\"primary\">修改</b-button>\r\n          <b-button @click=\"delArticle(data.value)\" variant=\"danger\">刪除</b-button>\r\n      </template>\r\n    </b-table>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { mapState, mapActions } from \"vuex\";\r\nimport Swal from \"sweetalert2\"\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      fields: [\r\n        { key: \"title\", label: \"文章標題\" },\r\n        { key: \"date\", label: \"上傳日期\" },\r\n        { key: \"content\", label: \"文章內容\" },\r\n        { key: \"id\", label: \"修改\" }\r\n      ]\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions([\"fetchArticles\", \"deleteArticle\"]),\r\n    editArticle: function(id) {\r\n      this.$router.push({ name: \"Admin-Edit\", params: { id: id } });\r\n    },\r\n    delArticle: function(id) {\r\n      const ensure = Swal.fire({\r\n        title: '你確定要刪除這篇文章嗎？',\r\n        text: \"執行後無法復原\",\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: '確認'\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          Swal.fire(\r\n            'Deleted!',\r\n            '文章已經刪除',\r\n            'success'\r\n          )\r\n          this.deleteArticle(id);\r\n        }\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState([\"account\", \"articles\"])\r\n  },\r\n  filters: {\r\n    subcontent: content => {\r\n      let contentStr = content.substring(0, 80)\r\n      return (content.length > 80) ? (contentStr + \"...\") : contentStr \r\n    },\r\n    toDate: timestamp => {\r\n      const data = new Date(timestamp);\r\n      let Y = data.getFullYear();\r\n      let M = data.getMonth();\r\n      let D = data.getDate();\r\n      let H = data.getHours();\r\n      let min = (Array(2).join(\"0\") + data.getMinutes()).slice(-2);\r\n      return `${Y}/${M + 1}/${D} ${H}:${min}`;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"sass\" scoped>\r\n.admin_home\r\n  margin: 30px 0\r\n  padding: 0 5%\r\n</style>"],"sourceRoot":"src/views/Admin"}]}